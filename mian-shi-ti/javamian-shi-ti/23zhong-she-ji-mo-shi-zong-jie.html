<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>08-23种设计模式总结 | RollStones·笔记</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="https://portrait.gitee.com/uploads/avatars/user/605/1817167_rollstone_1610068601.png!avatar60">
    <meta name="description" content="一点一滴记录，持之以恒学习。">
    
    <link rel="preload" href="/assets/css/0.styles.7385e7f5.css" as="style"><link rel="preload" href="/assets/js/app.d9144f6d.js" as="script"><link rel="preload" href="/assets/js/2.37ae8396.js" as="script"><link rel="preload" href="/assets/js/221.9b72aff4.js" as="script"><link rel="prefetch" href="/assets/js/10.2de792d8.js"><link rel="prefetch" href="/assets/js/100.f001da9a.js"><link rel="prefetch" href="/assets/js/101.dc867a39.js"><link rel="prefetch" href="/assets/js/102.195acdd9.js"><link rel="prefetch" href="/assets/js/103.15e1f1fe.js"><link rel="prefetch" href="/assets/js/104.da807df0.js"><link rel="prefetch" href="/assets/js/105.58cc2e29.js"><link rel="prefetch" href="/assets/js/106.e25931e6.js"><link rel="prefetch" href="/assets/js/107.b4b35dfa.js"><link rel="prefetch" href="/assets/js/108.fb96d901.js"><link rel="prefetch" href="/assets/js/109.2a0f6b11.js"><link rel="prefetch" href="/assets/js/11.e0ae94eb.js"><link rel="prefetch" href="/assets/js/110.61222413.js"><link rel="prefetch" href="/assets/js/111.be0996a6.js"><link rel="prefetch" href="/assets/js/112.1a364d14.js"><link rel="prefetch" href="/assets/js/113.3d5eaffb.js"><link rel="prefetch" href="/assets/js/114.43f321e9.js"><link rel="prefetch" href="/assets/js/115.1a240b6f.js"><link rel="prefetch" href="/assets/js/116.4b7753ef.js"><link rel="prefetch" href="/assets/js/117.0b6a493b.js"><link rel="prefetch" href="/assets/js/118.237adc24.js"><link rel="prefetch" href="/assets/js/119.e9d1d737.js"><link rel="prefetch" href="/assets/js/12.818babcb.js"><link rel="prefetch" href="/assets/js/120.d72033cd.js"><link rel="prefetch" href="/assets/js/121.ee195c9f.js"><link rel="prefetch" href="/assets/js/122.49c233c1.js"><link rel="prefetch" href="/assets/js/123.f818c0be.js"><link rel="prefetch" href="/assets/js/124.f34ec6ae.js"><link rel="prefetch" href="/assets/js/125.1d1567e0.js"><link rel="prefetch" href="/assets/js/126.9565eb40.js"><link rel="prefetch" href="/assets/js/127.0da4c68c.js"><link rel="prefetch" href="/assets/js/128.852c8672.js"><link rel="prefetch" href="/assets/js/129.cf315d99.js"><link rel="prefetch" href="/assets/js/13.b6bc2652.js"><link rel="prefetch" href="/assets/js/130.814aa68b.js"><link rel="prefetch" href="/assets/js/131.c68d8ed6.js"><link rel="prefetch" href="/assets/js/132.14828589.js"><link rel="prefetch" href="/assets/js/133.e28b0e25.js"><link rel="prefetch" href="/assets/js/134.5c8b8625.js"><link rel="prefetch" href="/assets/js/135.137dbcb5.js"><link rel="prefetch" href="/assets/js/136.488c258a.js"><link rel="prefetch" href="/assets/js/137.bb3470b4.js"><link rel="prefetch" href="/assets/js/138.963e7285.js"><link rel="prefetch" href="/assets/js/139.5e04a80f.js"><link rel="prefetch" href="/assets/js/14.7344d085.js"><link rel="prefetch" href="/assets/js/140.355355c5.js"><link rel="prefetch" href="/assets/js/141.2b8c1f2c.js"><link rel="prefetch" href="/assets/js/142.c3bcb983.js"><link rel="prefetch" href="/assets/js/143.53ad9675.js"><link rel="prefetch" href="/assets/js/144.a6df48af.js"><link rel="prefetch" href="/assets/js/145.078fa1b8.js"><link rel="prefetch" href="/assets/js/146.9ddfc19e.js"><link rel="prefetch" href="/assets/js/147.9cd639e4.js"><link rel="prefetch" href="/assets/js/148.444a496a.js"><link rel="prefetch" href="/assets/js/149.1f834148.js"><link rel="prefetch" href="/assets/js/15.8b4f0a19.js"><link rel="prefetch" href="/assets/js/150.f0399c93.js"><link rel="prefetch" href="/assets/js/151.770b2ed6.js"><link rel="prefetch" href="/assets/js/152.4f0aacee.js"><link rel="prefetch" href="/assets/js/153.f8df82c6.js"><link rel="prefetch" href="/assets/js/154.eac81cc6.js"><link rel="prefetch" href="/assets/js/155.92743a96.js"><link rel="prefetch" href="/assets/js/156.2880b244.js"><link rel="prefetch" href="/assets/js/157.cc4a0c11.js"><link rel="prefetch" href="/assets/js/158.8bf44fb5.js"><link rel="prefetch" href="/assets/js/159.986f5a88.js"><link rel="prefetch" href="/assets/js/16.80575a0b.js"><link rel="prefetch" href="/assets/js/160.76913b1d.js"><link rel="prefetch" href="/assets/js/161.da8930be.js"><link rel="prefetch" href="/assets/js/162.445f1609.js"><link rel="prefetch" href="/assets/js/163.577a9227.js"><link rel="prefetch" href="/assets/js/164.b088fdb5.js"><link rel="prefetch" href="/assets/js/165.d58831ce.js"><link rel="prefetch" href="/assets/js/166.8658be3e.js"><link rel="prefetch" href="/assets/js/167.71cccdd6.js"><link rel="prefetch" href="/assets/js/168.c1ea18da.js"><link rel="prefetch" href="/assets/js/169.be170a86.js"><link rel="prefetch" href="/assets/js/17.a13eca2b.js"><link rel="prefetch" href="/assets/js/170.08aaca48.js"><link rel="prefetch" href="/assets/js/171.9c8c6ddc.js"><link rel="prefetch" href="/assets/js/172.fcb6bfd7.js"><link rel="prefetch" href="/assets/js/173.f739c68c.js"><link rel="prefetch" href="/assets/js/174.78720caf.js"><link rel="prefetch" href="/assets/js/175.2569130a.js"><link rel="prefetch" href="/assets/js/176.7e223dbb.js"><link rel="prefetch" href="/assets/js/177.0cecf756.js"><link rel="prefetch" href="/assets/js/178.f8103207.js"><link rel="prefetch" href="/assets/js/179.2245c549.js"><link rel="prefetch" href="/assets/js/18.c5e61a24.js"><link rel="prefetch" href="/assets/js/180.6e0bc22d.js"><link rel="prefetch" href="/assets/js/181.fed77bd0.js"><link rel="prefetch" href="/assets/js/182.812d2b3d.js"><link rel="prefetch" href="/assets/js/183.ef134cb2.js"><link rel="prefetch" href="/assets/js/184.a4312abd.js"><link rel="prefetch" href="/assets/js/185.52a4295a.js"><link rel="prefetch" href="/assets/js/186.10e813fe.js"><link rel="prefetch" href="/assets/js/187.ec71269e.js"><link rel="prefetch" href="/assets/js/188.62fa3814.js"><link rel="prefetch" href="/assets/js/189.013df69e.js"><link rel="prefetch" href="/assets/js/19.de97d44f.js"><link rel="prefetch" href="/assets/js/190.3fa67a4f.js"><link rel="prefetch" href="/assets/js/191.820f4cd0.js"><link rel="prefetch" href="/assets/js/192.878effaa.js"><link rel="prefetch" href="/assets/js/193.70198a9c.js"><link rel="prefetch" href="/assets/js/194.43ac300f.js"><link rel="prefetch" href="/assets/js/195.0b3de38c.js"><link rel="prefetch" href="/assets/js/196.f37c5f6a.js"><link rel="prefetch" href="/assets/js/197.a70d9271.js"><link rel="prefetch" href="/assets/js/198.a7767623.js"><link rel="prefetch" href="/assets/js/199.49056ec7.js"><link rel="prefetch" href="/assets/js/20.4c9cd3ac.js"><link rel="prefetch" href="/assets/js/200.f79ccb8d.js"><link rel="prefetch" href="/assets/js/201.bd52a247.js"><link rel="prefetch" href="/assets/js/202.77ba6fcc.js"><link rel="prefetch" href="/assets/js/203.3fd38c4a.js"><link rel="prefetch" href="/assets/js/204.493f4aad.js"><link rel="prefetch" href="/assets/js/205.e353e389.js"><link rel="prefetch" href="/assets/js/206.8b8fdbba.js"><link rel="prefetch" href="/assets/js/207.8a96800f.js"><link rel="prefetch" href="/assets/js/208.60a5c2ac.js"><link rel="prefetch" href="/assets/js/209.180dbdee.js"><link rel="prefetch" href="/assets/js/21.0599e6d2.js"><link rel="prefetch" href="/assets/js/210.1dc54834.js"><link rel="prefetch" href="/assets/js/211.d8d9b63d.js"><link rel="prefetch" href="/assets/js/212.1b3fd4a9.js"><link rel="prefetch" href="/assets/js/213.5304adcf.js"><link rel="prefetch" href="/assets/js/214.8f743ba3.js"><link rel="prefetch" href="/assets/js/215.03cc8b66.js"><link rel="prefetch" href="/assets/js/216.ef93b5c4.js"><link rel="prefetch" href="/assets/js/217.0f0bcdae.js"><link rel="prefetch" href="/assets/js/218.24d07b1c.js"><link rel="prefetch" href="/assets/js/219.be460c95.js"><link rel="prefetch" href="/assets/js/22.bf9a1a15.js"><link rel="prefetch" href="/assets/js/220.b74851a0.js"><link rel="prefetch" href="/assets/js/222.167895e6.js"><link rel="prefetch" href="/assets/js/223.1cfb108e.js"><link rel="prefetch" href="/assets/js/224.5cc2e228.js"><link rel="prefetch" href="/assets/js/225.6408f8ee.js"><link rel="prefetch" href="/assets/js/226.ffe542c4.js"><link rel="prefetch" href="/assets/js/23.1c869369.js"><link rel="prefetch" href="/assets/js/24.e4024dd4.js"><link rel="prefetch" href="/assets/js/25.e92af0dd.js"><link rel="prefetch" href="/assets/js/26.fbf4967a.js"><link rel="prefetch" href="/assets/js/27.00f4c2bc.js"><link rel="prefetch" href="/assets/js/28.eb06bd91.js"><link rel="prefetch" href="/assets/js/29.3215cbfd.js"><link rel="prefetch" href="/assets/js/3.5aeea859.js"><link rel="prefetch" href="/assets/js/30.4d19b4c0.js"><link rel="prefetch" href="/assets/js/31.60886406.js"><link rel="prefetch" href="/assets/js/32.20886f19.js"><link rel="prefetch" href="/assets/js/33.7a9f6c0a.js"><link rel="prefetch" href="/assets/js/34.07b97846.js"><link rel="prefetch" href="/assets/js/35.d51ade57.js"><link rel="prefetch" href="/assets/js/36.aaa51e62.js"><link rel="prefetch" href="/assets/js/37.83e368c6.js"><link rel="prefetch" href="/assets/js/38.460cc21f.js"><link rel="prefetch" href="/assets/js/39.3d60dbdd.js"><link rel="prefetch" href="/assets/js/4.a63a4070.js"><link rel="prefetch" href="/assets/js/40.74a3069e.js"><link rel="prefetch" href="/assets/js/41.7c72eb0e.js"><link rel="prefetch" href="/assets/js/42.e52eafad.js"><link rel="prefetch" href="/assets/js/43.c2460c21.js"><link rel="prefetch" href="/assets/js/44.49b69202.js"><link rel="prefetch" href="/assets/js/45.ca830dd3.js"><link rel="prefetch" href="/assets/js/46.feff336b.js"><link rel="prefetch" href="/assets/js/47.1c0896a8.js"><link rel="prefetch" href="/assets/js/48.2317a641.js"><link rel="prefetch" href="/assets/js/49.826945bc.js"><link rel="prefetch" href="/assets/js/5.65ca3e83.js"><link rel="prefetch" href="/assets/js/50.4b48afd2.js"><link rel="prefetch" href="/assets/js/51.88824fd2.js"><link rel="prefetch" href="/assets/js/52.695ed89b.js"><link rel="prefetch" href="/assets/js/53.1453e41a.js"><link rel="prefetch" href="/assets/js/54.f138c0e9.js"><link rel="prefetch" href="/assets/js/55.ff80933e.js"><link rel="prefetch" href="/assets/js/56.b5845a07.js"><link rel="prefetch" href="/assets/js/57.5fa3b21f.js"><link rel="prefetch" href="/assets/js/58.1367f3b4.js"><link rel="prefetch" href="/assets/js/59.e423c723.js"><link rel="prefetch" href="/assets/js/6.c5bb8f3e.js"><link rel="prefetch" href="/assets/js/60.96621a38.js"><link rel="prefetch" href="/assets/js/61.7b48947d.js"><link rel="prefetch" href="/assets/js/62.000c3176.js"><link rel="prefetch" href="/assets/js/63.2b52a9f7.js"><link rel="prefetch" href="/assets/js/64.398296e9.js"><link rel="prefetch" href="/assets/js/65.90fdb846.js"><link rel="prefetch" href="/assets/js/66.ef09e78d.js"><link rel="prefetch" href="/assets/js/67.b23ebf2a.js"><link rel="prefetch" href="/assets/js/68.f2432117.js"><link rel="prefetch" href="/assets/js/69.719e9c1c.js"><link rel="prefetch" href="/assets/js/7.8869e8ec.js"><link rel="prefetch" href="/assets/js/70.9c045b12.js"><link rel="prefetch" href="/assets/js/71.fd154bf9.js"><link rel="prefetch" href="/assets/js/72.392adc49.js"><link rel="prefetch" href="/assets/js/73.bf97d210.js"><link rel="prefetch" href="/assets/js/74.e0ca5bd5.js"><link rel="prefetch" href="/assets/js/75.baf97fc9.js"><link rel="prefetch" href="/assets/js/76.d22cf157.js"><link rel="prefetch" href="/assets/js/77.140a42db.js"><link rel="prefetch" href="/assets/js/78.2cae7a40.js"><link rel="prefetch" href="/assets/js/79.31ace155.js"><link rel="prefetch" href="/assets/js/8.77202eac.js"><link rel="prefetch" href="/assets/js/80.0bcc2452.js"><link rel="prefetch" href="/assets/js/81.f24c2150.js"><link rel="prefetch" href="/assets/js/82.f1676137.js"><link rel="prefetch" href="/assets/js/83.63c5fef8.js"><link rel="prefetch" href="/assets/js/84.8f099aad.js"><link rel="prefetch" href="/assets/js/85.0ff1685a.js"><link rel="prefetch" href="/assets/js/86.8670b4d2.js"><link rel="prefetch" href="/assets/js/87.d7f0e264.js"><link rel="prefetch" href="/assets/js/88.ae445553.js"><link rel="prefetch" href="/assets/js/89.a36446fd.js"><link rel="prefetch" href="/assets/js/9.1ccb07cf.js"><link rel="prefetch" href="/assets/js/90.88609a64.js"><link rel="prefetch" href="/assets/js/91.41480a41.js"><link rel="prefetch" href="/assets/js/92.4007406c.js"><link rel="prefetch" href="/assets/js/93.299c852a.js"><link rel="prefetch" href="/assets/js/94.cd869297.js"><link rel="prefetch" href="/assets/js/95.b55aa66d.js"><link rel="prefetch" href="/assets/js/96.82f921e1.js"><link rel="prefetch" href="/assets/js/97.46c181a7.js"><link rel="prefetch" href="/assets/js/98.a65d6414.js"><link rel="prefetch" href="/assets/js/99.8ab1355c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7385e7f5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">RollStones·笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/webkai-fa/" class="nav-link">
  Web开发
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/js/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/mian-shi-ti/" class="nav-link router-link-active">
  面试题
</a></div><div class="nav-item"><a href="/javaxing-neng-diao-you-gai-shu/" class="nav-link">
  Java性能调优概述
</a></div><div class="nav-item"><a href="/javaxing-neng-diao-you-a-li-/" class="nav-link">
  Java性能调优 阿里
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/webkai-fa/" class="nav-link">
  Web开发
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/js/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/mian-shi-ti/" class="nav-link router-link-active">
  面试题
</a></div><div class="nav-item"><a href="/javaxing-neng-diao-you-gai-shu/" class="nav-link">
  Java性能调优概述
</a></div><div class="nav-item"><a href="/javaxing-neng-diao-you-a-li-/" class="nav-link">
  Java性能调优 阿里
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java面试题</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mian-shi-ti/javamian-shi-ti/javaji-chu-zhi-shi-mian-shi-ti.html" class="sidebar-link">01-java基础知识面试题</a></li><li><a href="/mian-shi-ti/javamian-shi-ti/javaji-he-rong-qi-mian-shi-ti.html" class="sidebar-link">02-Java集合容器面试题</a></li><li><a href="/mian-shi-ti/javamian-shi-ti/javayi-chang-mian-shi-ti.html" class="sidebar-link">03-Java异常面试题</a></li><li><a href="/mian-shi-ti/javamian-shi-ti/bing-fa-bian-cheng-mian-shi-ti.html" class="sidebar-link">04-并发编程面试题</a></li><li><a href="/mian-shi-ti/javamian-shi-ti/javaxu-ni-ji-jvm-mian-shi-ti.html" class="sidebar-link">05-Java虚拟机(JVM)面试题</a></li><li><a href="/mian-shi-ti/javamian-shi-ti/tomcatmian-shi-ti.html" class="sidebar-link">06-Tomcat面试题</a></li><li><a href="/mian-shi-ti/javamian-shi-ti/shu-ju-jie-gou-yu-suan-fa-mian-shi-ti.html" class="sidebar-link">07-数据结构与算法面试题</a></li><li><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html" aria-current="page" class="active sidebar-link">08-23种设计模式总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#java的设计模式大体上分为三大类" class="sidebar-link">java的设计模式大体上分为三大类：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_1-单例模式" class="sidebar-link">1.单例模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_2-工厂模式" class="sidebar-link">2.工厂模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_3-抽象工厂模式" class="sidebar-link">3.抽象工厂模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_4-建造者模式" class="sidebar-link">4.建造者模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_5-原型模式" class="sidebar-link">5.原型模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_6-适配器模式" class="sidebar-link">6.适配器模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_7-装饰器模式" class="sidebar-link">7.装饰器模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_8-代理模式" class="sidebar-link">8.代理模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_9-中介者模式" class="sidebar-link">9.中介者模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_10-命令模式" class="sidebar-link">10.命令模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_11-责任链模式" class="sidebar-link">11.责任链模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_12-策略模式" class="sidebar-link">12.策略模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_13-迭代器模式" class="sidebar-link">13.迭代器模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_14-组合模式" class="sidebar-link">14.组合模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_15-观察者模式" class="sidebar-link">15.观察者模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_16-门面模式" class="sidebar-link">16.门面模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_17-备忘录模式" class="sidebar-link">17.备忘录模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_18-访问者模式" class="sidebar-link">18.访问者模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_19-状态模式" class="sidebar-link">19.状态模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_20-解释器模式" class="sidebar-link">20.解释器模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_21-享元模式" class="sidebar-link">21.享元模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_22-桥梁模式" class="sidebar-link">22.桥梁模式：</a></li><li class="sidebar-sub-header"><a href="/mian-shi-ti/javamian-shi-ti/23zhong-she-ji-mo-shi-zong-jie.html#_23-模板方法模式" class="sidebar-link">23.模板方法模式：</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>分布式组件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库面试题</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_08-23种设计模式总结"><a href="#_08-23种设计模式总结" class="header-anchor">#</a> 08-23种设计模式总结</h1> <h2 id="java的设计模式大体上分为三大类"><a href="#java的设计模式大体上分为三大类" class="header-anchor">#</a> java的设计模式大体上分为三大类：</h2> <ul><li><p>创建型模式（5种）：工厂方法模式，抽象工厂模式，单例模式，建造者模式，原型模式。</p></li> <li><p>结构型模式（7种）：适配器模式，装饰器模式，代理模式，外观模式，桥接模式，组合模式，享元模式。</p></li> <li><p>行为型模式（11种）：策略模式、模板方法模式、观察者模式、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。</p></li></ul> <p>设计模式遵循的原则有6个：</p> <ol><li>开闭原则（Open Close Principle）
对扩展开放，对修改关闭。</li> <li>里氏代换原则（Liskov Substitution Principle）
只有当衍生类可以替换掉基类，软件单位的功能不受到影响时，基类才能真正被复用，而衍生类也能够在基类的基础上增加新的行为。</li> <li>依赖倒转原则（Dependence Inversion Principle）
这个是开闭原则的基础，对接口编程，依赖于抽象而不依赖于具体。</li> <li>接口隔离原则（Interface Segregation Principle）
使用多个隔离的借口来降低耦合度。</li> <li>迪米特法则（最少知道原则）（Demeter Principle）
一个实体应当尽量少的与其他实体之间发生相互作用，使得系统功能模块相对独立。</li> <li>合成复用原则（Composite Reuse Principle）
原则是尽量使用合成/聚合的方式，而不是使用继承。继承实际上破坏了类的封装性，超类的方法可能会被子类修改。</li></ol> <h2 id="_1-单例模式"><a href="#_1-单例模式" class="header-anchor">#</a> <strong>1.单例模式：</strong></h2> <p>确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例。</p> <p>（1）懒汉式</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>

    <span class="token comment">/* 持有私有静态实例，防止被引用，此处赋值为null，目的是实现延迟加载 */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token comment">/* 私有构造方法，防止被实例化 */</span>
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token comment">/* 1:懒汉式，静态工程方法，创建实例 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
            instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
         <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>（2）饿汉式</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>

    <span class="token comment">/* 持有私有静态实例，防止被引用 */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">/* 私有构造方法，防止被实例化 */</span>
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token comment">/* 1:懒汉式，静态工程方法，创建实例 */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：</p> <p>1.要求生成唯一序列号的环境；</p> <p>2.在整个项目中需要一个共享访问点或共享数据，例如一个Web页面上的计数器，可以不用把每次刷新都记录到数据库中，使用单例模式保持计数器的值，并确保是线程安全的；</p> <p>3.创建一个对象需要消耗的资源过多，如要访问IO和数据库等资源；</p> <p>4.需要定义大量的静态常量和静态方法（如工具类）的环境，可以采用单例模式（当然，也可以直接声明为static的方式）。</p> <h2 id="_2-工厂模式"><a href="#_2-工厂模式" class="header-anchor">#</a> <strong>2.工厂模式：</strong></h2> <p>定义一个用于创建对象的接口，让子类决定实例化哪一个类。工厂方法使一个类的实例化延迟到其子类。</p> <ul><li>接口</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Fruit</span> <span class="token punctuation">{</span>  
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre></div><ul><li>2个实现类</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Apple</span> <span class="token keyword">implements</span> <span class="token class-name">Fruit</span><span class="token punctuation">{</span>  

  <span class="token annotation punctuation">@Override</span>  

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  

     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;我是一个苹果&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

  <span class="token punctuation">}</span>  

<span class="token punctuation">}</span>  

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Orange</span> <span class="token keyword">implements</span> <span class="token class-name">Fruit</span><span class="token punctuation">{</span>  

  <span class="token annotation punctuation">@Override</span>  

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  

     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;我是一个橘子&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

  <span class="token punctuation">}</span>  

<span class="token punctuation">}</span>  
</code></pre></div><ul><li>工厂类</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FruitFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Fruit</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;apple&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Apple</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;orange&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Orange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请输入正确的类型!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：jdbc连接数据库，硬件访问，降低对象的产生和销毁</p> <h2 id="_3-抽象工厂模式"><a href="#_3-抽象工厂模式" class="header-anchor">#</a> <strong>3.抽象工厂模式：</strong></h2> <p>为创建一组相关或相互依赖的对象提供一个接口，而且无须指定它们的具体类。</p> <p>相对于工厂模式，我们可以新增产品类（只需要实现产品接口），只需要同时新增一个工厂类，客户端就可以轻松调用新产品的代码。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">interface</span> food <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token keyword">implements</span> food <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">implements</span> food <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">interface</span> produce <span class="token punctuation">{</span>
    food <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">FactoryForA</span> <span class="token keyword">implements</span> produce <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> food <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">FactoryForB</span> <span class="token keyword">implements</span> produce <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> food <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">ClientCode</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        food x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FactoryForA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FactoryForB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：一个对象族（或是一组没有任何关系的对象）都有相同的约束。</p> <p>涉及不同操作系统的时候，都可以考虑使用抽象工厂模式</p> <h2 id="_4-建造者模式"><a href="#_4-建造者模式" class="header-anchor">#</a> <strong>4.建造者模式：</strong></h2> <p>将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Build</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sex <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">Builder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> builder<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> builder<span class="token punctuation">.</span>number<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> builder<span class="token punctuation">.</span>sex<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Builder</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sex <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

            <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token keyword">int</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> number<span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">public</span> <span class="token class-name">Builder</span> <span class="token function">setSex</span><span class="token punctuation">(</span><span class="token class-name">String</span> sex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Student</span> <span class="token class-name">A</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Student</span> <span class="token class-name">B</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setSex</span><span class="token punctuation">(</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token class-name">A</span><span class="token punctuation">.</span>number <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token class-name">A</span><span class="token punctuation">.</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token class-name">B</span><span class="token punctuation">.</span>number <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token class-name">B</span><span class="token punctuation">.</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：</p> <p>\1. 相同的方法，不同的执行顺序，产生不同的事件结果时，可以采用建造者模式。</p> <p>2.多个部件或零件，都可以装配到一个对象中，但是产生的运行结果又不相同时，则可以使用该模式。</p> <p>3.产品类非常复杂，或者产品类中的调用顺序不同产生了不同的效能，这个时候使用建造者模式非常合适。</p> <h2 id="_5-原型模式"><a href="#_5-原型模式" class="header-anchor">#</a> <strong>5.原型模式：</strong></h2> <p>用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Prototype</span> <span class="token keyword">implements</span> <span class="token class-name">Cloneable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">Object</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">CloneNotSupportedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Prototype</span> pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Prototype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>​
        <span class="token class-name">Prototype</span> pro1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Prototype</span><span class="token punctuation">)</span> pro<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>原型模式实际上就是实现Cloneable接口，重写clone（）方法。</p> <p>使用原型模式的优点：</p> <p>1.性能优良</p> <p>原型模式是在内存二进制流的拷贝，要比直接new一个对象性能好很多，特别是要在一个循环体内产生大量的对象时，原型模式可以更好地体现其优点。</p> <p>2.逃避构造函数的约束</p> <p>这既是它的优点也是缺点，直接在内存中拷贝，构造函数是不会执行的（参见13.4节）。</p> <p>使用场景：</p> <p>1.资源优化场景</p> <p>类初始化需要消化非常多的资源，这个资源包括数据、硬件资源等。</p> <p>2.性能和安全要求的场景</p> <p>通过new产生一个对象需要非常繁琐的数据准备或访问权限，则可以使用原型模式。</p> <p>\3. 一个对象多个修改者的场景</p> <p>一个对象需要提供给其他对象访问，而且各个调用者可能都需要修改其值时，可以考虑使用原型模式拷贝多个对象供调用者使用。</p> <p>浅拷贝和深拷贝：</p> <p>浅拷贝：Object类提供的方法clone只是拷贝本对象，其对象内部的数组、引用对象等都不拷贝，还是指向原生对象的内部元素地址，这种拷贝就叫做浅拷贝，其他的原始类型比如int、long、char、string（当做是原始类型）等都会被拷贝。</p> <p>注意：　使用原型模式时，引用的成员变量必须满足两个条件才不会被拷贝：一是类的成员变量，而不是方法内变量；二是必须是一个可变的引用对象，而不是一个原始类型或不可变对象。</p> <p>深拷贝：对私有的类变量进行独立的拷贝</p> <p>如：this.arrayList = (ArrayList)this.arrayList.clone();</p> <h2 id="_6-适配器模式"><a href="#_6-适配器模式" class="header-anchor">#</a> <strong>6.适配器模式：</strong></h2> <p>将一个类的接口变换成客户端所期待的另一种接口，从而使原本因接口不匹配而无法在一起工作的两个类能够在一起工作。</p> <p>主要可分为3种：</p> <p>1.类适配：创建新类，继承源类，并实现新接口，例如</p> <p>class  adapter extends oldClass  implements newFunc{}</p> <p>2.对象适配：创建新类持源类的实例，并实现新接口，例如</p> <p>class adapter implements newFunc { private oldClass oldInstance ;}</p> <p>3.接口适配：创建新的抽象类实现旧接口方法。例如</p> <p>abstract class adapter implements oldClassFunc { void newFunc();}</p> <p>使用场景：</p> <p>你有动机修改一个已经投产中的接口时，适配器模式可能是最适合你的模式。比如系统扩展了，需要使用一个已有或新建立的类，但这个类又不符合系统的接口，怎么办？使用适配器模式，这也是我们例子中提到的。</p> <h2 id="_7-装饰器模式"><a href="#_7-装饰器模式" class="header-anchor">#</a> <strong>7.装饰器模式：</strong></h2> <p>动态地给一个对象添加一些额外的职责。就增加功能来说，装饰器模式相比生成子类更为灵活。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">Source</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Decorator</span> <span class="token keyword">implements</span> <span class="token class-name">Source</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Source</span> source<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">decotate1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;decorate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">decotate1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        source<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：</p> <ol><li>需要扩展一个类的功能，或给一个类增加附加功能。</li> <li>需要动态地给一个对象增加功能，这些功能可以再动态地撤销。</li> <li>需要为一批的兄弟类进行改装或加装功能，当然是首选装饰模式。</li></ol> <h2 id="_8-代理模式"><a href="#_8-代理模式" class="header-anchor">#</a> <strong>8.代理模式：</strong></h2> <p>为其他对象提供一种代理以控制对这个对象的访问。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">Source</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">OldClass</span> <span class="token keyword">implements</span> <span class="token class-name">Source</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Proxy</span> <span class="token keyword">implements</span> <span class="token class-name">Source</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Source</span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OldClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">Class1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token class-name">Func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        source<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Class2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token class-name">Func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_9-中介者模式"><a href="#_9-中介者模式" class="header-anchor">#</a> <strong>9.中介者模式：</strong></h2> <p>用一个中介对象封装一系列的对象交互，中介者使各对象不需要显示地相互作用，从而使其耦合松散，而且可以独立地改变它们之间的交互。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Mediator</span> <span class="token punctuation">{</span>
    <span class="token comment">//定义同事类        </span>
    <span class="token keyword">protected</span> <span class="token class-name">ConcreteColleague1</span> c1<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">ConcreteColleague2</span> c2<span class="token punctuation">;</span>

    <span class="token comment">//通过getter/setter方法把同事类注入进来        </span>
    <span class="token keyword">public</span> <span class="token class-name">ConcreteColleague1</span> <span class="token function">getC1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> c1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setC1</span><span class="token punctuation">(</span><span class="token class-name">ConcreteColleague1</span> c1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>c1 <span class="token operator">=</span> c1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">ConcreteColleague2</span> <span class="token function">getC2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> c2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setC2</span><span class="token punctuation">(</span><span class="token class-name">ConcreteColleague2</span> c2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>c2 <span class="token operator">=</span> c2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>        <span class="token comment">//中介者模式的业务逻辑        </span>

    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">doSomething1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">doSomething2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：</p> <p>中介者模式适用于多个对象之间紧密耦合的情况，紧密耦合的标准是：在类图中出现了蜘蛛网状结构，即每个类都与其他的类有直接的联系。</p> <h2 id="_10-命令模式"><a href="#_10-命令模式" class="header-anchor">#</a> <strong>10.命令模式：</strong></h2> <p>将一个请求封装成一个对象，从而让你使用不同的请求把客户端参数化，对请求排队或者记录请求日志，可以提供命令的撤销和恢复功能。</p> <p>Receiver接受者角色：该角色就是干活的角色，命令传递到这里是应该被执行的</p> <p>Command命令角色：需要执行的所有命令都在这里声明</p> <p>Invoker调用者角色：接收到命令，并执行命令</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//通用Receiver类</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Receiver</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//具体Receiver类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteReciver1</span> <span class="token keyword">extends</span> <span class="token class-name">Receiver</span> <span class="token punctuation">{</span>
    <span class="token comment">//每个接收者都必须处理一定的业务逻辑  </span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteReciver2</span> <span class="token keyword">extends</span> <span class="token class-name">Receiver</span> <span class="token punctuation">{</span>
    <span class="token comment">//每个接收者都必须处理一定的业务逻辑   </span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//抽象Command类</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//具体的Command类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteCommand1</span> <span class="token keyword">extends</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token comment">//对哪个Receiver类进行命令处理  </span>
    <span class="token keyword">private</span> <span class="token class-name">Receiver</span> receiver<span class="token punctuation">;</span>

    <span class="token comment">//构造函数传递接收者  </span>
    <span class="token keyword">public</span> <span class="token class-name">ConcreteCommand1</span><span class="token punctuation">(</span><span class="token class-name">Receiver</span> _receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>receiver <span class="token operator">=</span> _receiver<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//必须实现一个命令  </span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//业务处理    </span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>receiver<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteCommand2</span> <span class="token keyword">extends</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token comment">//哪个Receiver类进行命令处理 </span>
    <span class="token keyword">private</span> <span class="token class-name">Receiver</span> receiver<span class="token punctuation">;</span>

    <span class="token comment">//构造函数传递接收者   </span>
    <span class="token keyword">public</span> <span class="token class-name">ConcreteCommand2</span><span class="token punctuation">(</span><span class="token class-name">Receiver</span> _receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>receiver <span class="token operator">=</span> _receiver<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//必须实现一个命令  </span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//业务处理     </span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>receiver<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//调用者Invoker类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Invoker</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Command</span> command<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCommand</span><span class="token punctuation">(</span><span class="token class-name">Command</span> _command<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>command <span class="token operator">=</span> _command<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>command<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//场景类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Invoker</span> invoker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Invoker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Receiver</span> receiver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteReceiver1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Command</span> command <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteCommand1</span><span class="token punctuation">(</span>receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
        invoker<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
        invoker<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：</p> <p>认为是命令的地方就可以采用命令模式，例如，在GUI开发中，一个按钮的点击是一个命令，可以采用命令模式；模拟DOS命令的时候，当然也要采用命令模式；触发－反馈机制的处理等。</p> <h2 id="_11-责任链模式"><a href="#_11-责任链模式" class="header-anchor">#</a> <strong>11.责任链模式：</strong></h2> <p>使多个对象都有机会处理请求，从而避免了请求的发送者和接受者之间的耦合关系。将这些对象连成一条链，并沿着这条链传递该请求，直到有对象处理它为止。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Handler</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Handler</span> nextHandler<span class="token punctuation">;</span>

    <span class="token comment">//每个处理者都必须对请求做出处理</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">Response</span> <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token class-name">Request</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Response</span> response <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token comment">//判断是否是自己的处理级别</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getHandlerLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getRequestLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            response <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">echo</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  <span class="token comment">//不属于自己的处理级别</span>

            <span class="token comment">//判断是否有下一个处理者</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>nextHandler <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                response <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nextHandler<span class="token punctuation">.</span><span class="token function">handleMessage</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">//没有适当的处理者，业务自行处理</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> response<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//设置下一个处理者是谁</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNext</span><span class="token punctuation">(</span><span class="token class-name">Handler</span> _handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>nextHandler <span class="token operator">=</span> _handler<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//每个处理者都有一个处理级别</span>
    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token class-name">Level</span> <span class="token function">getHandlerLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//每个处理者都必须实现处理任务</span>
    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token class-name">Response</span> <span class="token function">echo</span><span class="token punctuation">(</span><span class="token class-name">Request</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_12-策略模式"><a href="#_12-策略模式" class="header-anchor">#</a> <strong>12.策略模式：</strong></h2> <p>定义一组算法，将每个算法都封装起来，并且使它们之间可以互换。</p> <p>使用场景：</p> <ol><li>多个类只有在算法或行为上稍有不同的场景。</li> <li>算法需要自由切换的场景。</li> <li>需要屏蔽算法规则的场景。</li></ol> <h2 id="_13-迭代器模式"><a href="#_13-迭代器模式" class="header-anchor">#</a> <strong>13.迭代器模式：</strong></h2> <p>它提供一种方法访问一个容器对象中各个元素，而又不需暴露该对象的内部细节。</p> <p>迭代器模式已经被淘汰，java中已经把迭代器运用到各个聚集类（collection）中了，使用java自带的迭代器就已经满足我们的需求了。</p> <h2 id="_14-组合模式"><a href="#_14-组合模式" class="header-anchor">#</a> <strong>14.组合模式：</strong></h2> <p>将对象组合成树形结构以表示“部分-整体”的层次结构，使得用户对单个对象和组合对象的使用具有一致性。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Composite</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>

   <span class="token comment">//构件容器</span>
   <span class="token keyword">private</span> <span class="token class-name">ArrayList</span> componentArrayList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">//增加一个叶子构件或树枝构件</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>componentArrayList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">//删除一个叶子构件或树枝构件</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>componentArrayList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">//获得分支下的所有叶子构件和树枝构件</span>
   <span class="token keyword">public</span> <span class="token class-name">ArrayList</span> <span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>componentArrayList<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：</p> <p>\1. 维护和展示部分-整体关系的场景，如树形菜单、文件和文件夹管理。</p> <p>\2. 从一个整体中能够独立出部分模块或功能的场景。</p> <h2 id="_15-观察者模式"><a href="#_15-观察者模式" class="header-anchor">#</a> <strong>15.观察者模式：</strong></h2> <p>定义对象间一种一对多的依赖关系，使得每当一个对象改变状态，则所有依赖于它的对象都会得到通知并被自动更新。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>

   <span class="token comment">//定义一个观察者数组</span>
   <span class="token keyword">private</span> <span class="token class-name">Vector</span> obsVector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
   <span class="token comment">//增加一个观察者</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addObserver</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> o<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>obsVector<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">//删除一个观察者</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delObserver</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> o<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>obsVector<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">//通知所有观察者</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">notifyObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> o<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>obsVector<span class="token punctuation">)</span><span class="token punctuation">{</span>
            o<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：</p> <ol><li>关联行为场景。需要注意的是，关联行为是可拆分的，而不是“组合”关系。</li> <li>事件多级触发场景。</li> <li>跨系统的消息交换场景，如消息队列的处理机制</li></ol> <h2 id="_16-门面模式"><a href="#_16-门面模式" class="header-anchor">#</a> <strong>16.门面模式：</strong></h2> <p>要求一个子系统的外部与其内部的通信必须通过一个统一的对象进行。门面模式提供一个高层次的接口，使得子系统更易于使用。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Facade</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> subSystem1 subSystem1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">subSystem1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> subSystem2 subSystem2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">subSystem2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> subSystem3 subSystem3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">subSystem3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">startSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        subSystem1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subSystem2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subSystem3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stopSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        subSystem1<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subSystem2<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subSystem3<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：</p> <ol><li>为一个复杂的模块或子系统提供一个供外界访问的接口</li> <li>子系统相对独立——外界对子系统的访问只要黑箱操作即可</li> <li>预防低水平人员带来的风险扩散</li></ol> <h2 id="_17-备忘录模式"><a href="#_17-备忘录模式" class="header-anchor">#</a> <strong>17.备忘录模式：</strong></h2> <p>在不破坏封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态。这样以后就可将该对象恢复到原先保存的状态。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Originator</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> state<span class="token punctuation">;</span>

    <span class="token comment">/**
     * \* 工厂方法，返回一个新的备忘录对象
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">Memento</span> <span class="token function">createMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Memento</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * \* 将发起人恢复到备忘录对象所记载的状态
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">restoreMemento</span><span class="token punctuation">(</span><span class="token class-name">Memento</span> memento<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> memento<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token class-name">String</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前状态：&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：</p> <ol><li>需要保存和恢复数据的相关状态场景。</li> <li>提供一个可回滚（rollback）的操作。</li> <li>需要监控的副本场景中。</li> <li>数据库连接的事务管理就是用的备忘录模式。</li></ol> <h2 id="_18-访问者模式"><a href="#_18-访问者模式" class="header-anchor">#</a> <strong>18.访问者模式：</strong></h2> <p>封装一些作用于某种数据结构中的各元素的操作，它可以在不改变数据结构的前提下定义作用于这些元素的新的操作。</p> <p>使用场景：</p> <ol><li>一个对象结构包含很多类对象，它们有不同的接口，而你想对这些对象实施一些依赖于其具体类的操作，也就说是用迭代器模式已经不能胜任的情景。</li> <li>需要对一个对象结构中的对象进行很多不同并且不相关的操作，而你想避免让这些操作“污染”这些对象的类。</li></ol> <h2 id="_19-状态模式"><a href="#_19-状态模式" class="header-anchor">#</a> <strong>19.状态模式：</strong></h2> <p>当一个对象内在状态改变时允许其改变行为，这个对象看起来像改变了其类。</p> <p>使用场景：</p> <ol><li>行为随状态改变而改变的场景
这也是状态模式的根本出发点，例如权限设计，人员的状态不同即使执行相同的行为结果也会不同，在这种情况下需要考虑使用状态模式。</li> <li>条件、分支判断语句的替代者</li></ol> <h2 id="_20-解释器模式"><a href="#_20-解释器模式" class="header-anchor">#</a> <strong>20.解释器模式：</strong></h2> <p>给定一门语言，定义它的文法的一种表示，并定义一个解释器，该解释器使用该表示来解释语言中的句子。</p> <p>使用场景：</p> <ol><li>重复发生的问题可以使用解释器模式</li> <li>一个简单语法需要解释的场景</li></ol> <h2 id="_21-享元模式"><a href="#_21-享元模式" class="header-anchor">#</a> <strong>21.享元模式：</strong></h2> <p>使用共享对象的方法，用来尽可能减少内存使用量以及分享资讯。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> flywei <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Flyweight</span> <span class="token keyword">extends</span> flywei <span class="token punctuation">{</span>

    <span class="token class-name">Object</span> obj<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Flyweight</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>obj <span class="token operator">=</span> obj<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">FlyweightFactory</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">HashMap</span> data<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">FlyweightFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Flyweight</span> <span class="token function">getFlyweight</span><span class="token punctuation">(</span><span class="token class-name">Object</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">Flyweight</span> flyweight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Flyweight</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>
            data<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> flyweight<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> flyweight<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用场景：</p> <ol><li>系统中存在大量的相似对象。</li> <li>细粒度的对象都具备较接近的外部状态，而且内部状态与环境无关，也就是说对象没有特定身份。</li> <li>需要缓冲池的场景。</li></ol> <h2 id="_22-桥梁模式"><a href="#_22-桥梁模式" class="header-anchor">#</a> <strong>22.桥梁模式：</strong></h2> <p>将抽象和实现解耦，使得两者可以独立地变化。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//Circle类将DrwaApi与Shape类进行了桥接，</span>
<span class="token keyword">interface</span> <span class="token class-name">DrawAPI</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token keyword">int</span> radius<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">RedCircle</span> <span class="token keyword">implements</span> <span class="token class-name">DrawAPI</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token keyword">int</span> radius<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Drawing Circle[ color: red, radius: &quot;</span> 
                           <span class="token operator">+</span> radius <span class="token operator">+</span> <span class="token string">&quot;, x: &quot;</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">GreenCircle</span> <span class="token keyword">implements</span> <span class="token class-name">DrawAPI</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token keyword">int</span> radius<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Drawing Circle[ color: green, radius: &quot;</span> 
                           <span class="token operator">+</span> radius <span class="token operator">+</span> <span class="token string">&quot;, x: &quot;</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token class-name">DrawAPI</span> drawAPI<span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token class-name">DrawAPI</span> drawAPI<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>drawAPI <span class="token operator">=</span> drawAPI<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> radius<span class="token punctuation">,</span> <span class="token class-name">DrawAPI</span> drawAPI<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>drawAPI<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> radius<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        drawAPI<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//客户端使用代码</span>
<span class="token class-name">Shape</span> redCircle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">RedCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Shape</span> greenCircle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GreenCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
redCircle<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
greenCircle<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>使用场景：</p> <ol><li>不希望或不适用使用继承的场景</li> <li>接口或抽象类不稳定的场景</li> <li>重用性要求较高的场景</li></ol> <h2 id="_23-模板方法模式"><a href="#_23-模板方法模式" class="header-anchor">#</a> <strong>23.模板方法模式：</strong></h2> <p>定义一个操作中的算法的框架，而将一些步骤延迟到子类中。使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤。</p> <p>使用场景：</p> <ol><li>多个子类有公有的方法，并且逻辑基本相同时。</li> <li>重要、复杂的算法，可以把核心算法设计为模板方法，周边的相关细节功能则由各个子类实现。</li> <li>重构时，模板方法模式是一个经常使用的模式，把相同的代码抽取到父类中，然后通过钩子函数（见“模板方法模式的扩展”）约束其行为。</li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/15/2023, 8:18:50 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mian-shi-ti/javamian-shi-ti/shu-ju-jie-gou-yu-suan-fa-mian-shi-ti.html" class="prev">
        07-数据结构与算法面试题
      </a></span> <span class="next"><a href="/mian-shi-ti/kuang-jia-mian-shi-ti/spring-mvcmian-shi-ti.html">
        01-Spring MVC面试题
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d9144f6d.js" defer></script><script src="/assets/js/2.37ae8396.js" defer></script><script src="/assets/js/221.9b72aff4.js" defer></script>
  </body>
</html>
