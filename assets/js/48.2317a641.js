(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{582:function(t,r,e){"use strict";e.r(r);var a=e(42),n=Object(a.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_01-arthas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_01-arthas"}},[t._v("#")]),t._v(" 01-Arthas")]),t._v(" "),e("h2",{attrs:{id:"一、官网地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、官网地址"}},[t._v("#")]),t._v(" 一、"),e("a",{attrs:{href:"https://arthas.aliyun.com/doc/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网地址"),e("OutboundLink")],1)]),t._v(" "),e("ul",[e("li",[e("p",[t._v("下载")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -O https://arthas.aliyun.com/arthas-boot.jar\n")])])])]),t._v(" "),e("li",[e("p",[t._v("启动")])]),t._v(" "),e("li",[e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("java -jar arthas-boot.jar\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#打印帮助信息")]),t._v("\njava -jar arthas-boot.jar -h\n")])])])])]),t._v(" "),e("h2",{attrs:{id:"二、命令列表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、命令列表"}},[t._v("#")]),t._v(" 二、"),e("a",{attrs:{href:"https://arthas.gitee.io/commands.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("命令列表"),e("OutboundLink")],1)]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("命令")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/dashboard.html",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[t._v("dashboard")]),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("当前系统的实时数据面板，按 ctrl+c 退出")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/thread.html",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[t._v("thread")]),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("查看当前线程信息，查看线程的堆栈")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/jvm.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("jvm"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("查看当前JVM信息")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/sysprop.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("sysprop"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("查看当前JVM的系统属性("),e("code",[t._v("System Property")]),t._v(")")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/sysenv.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("sysenv"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("查看当前JVM的环境属性("),e("code",[t._v("System Environment Variables")]),t._v(")")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/vmoption.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vmoption"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("查看，更新VM诊断相关的参数")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/perfcounter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("perfcounter"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("查看，当前JVM的 Perf Counter信息")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/logger.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("logger"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("查看logger信息，更新logger level")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/mbean.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("mbean"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("查看 Mbean 的信息")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/getstatic.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("getstatic"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("查看类的静态属性，使用方法为"),e("code",[t._v("getstatic class_name field_name")]),e("br"),t._v("推荐直接使用"),e("a",{attrs:{href:"https://arthas.gitee.io/ognl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ognl"),e("OutboundLink")],1),t._v("命令，更加灵活")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/ognl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ognl"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("执行ognl表达式")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/sc.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("sc"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("“Search-Class” 的简写，查看JVM已加载的类信息")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/sm.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("sm"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("“Search-Method” 的简写,查看已加载类的方法信息")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/dump.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("dump"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("dump 已加载类的 bytecode 到特定目录")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/heapdump.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("heapdump"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("dump java heap, 类似jmap命令的heap dump功能。")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/jad.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("jad"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("反编译指定已加载类的源码")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/classloader.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("classloader"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("查看classloader的继承树，urls，类加载信息")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/mc.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("mc"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("Memory Compiler/内存编译器，编译"),e("code",[t._v(".java")]),t._v("文件生成"),e("code",[t._v(".class")]),t._v("。")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/retransform.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("retransform"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("加载外部的"),e("code",[t._v(".class")]),t._v("文件，retransform jvm已加载的类。")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/redefine.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("redefine"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("加载外部的"),e("code",[t._v(".class")]),t._v("文件，redefine jvm已加载的类。")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/monitor.html",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[t._v("monitor")]),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("方法执行监控")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/watch.html",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[t._v("watch")]),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("方法执行数据观测")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/trace.html",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[t._v("trace")]),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("方法内部调用路径，并输出方法路径上的每个节点上耗时")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/stack.html",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[t._v("stack")]),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("输出当前方法被调用的调用路径")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/tt.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("tt"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("方法执行数据的时空隧道，记录下指定方法每次调用的入参和返回信息，并能对这些不同的时间下调用进行观测")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/profiler.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("profiler"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("使用"),e("a",{attrs:{href:"https://github.com/jvm-profiling-tools/async-profiler",target:"_blank",rel:"noopener noreferrer"}},[t._v("async-profiler"),e("OutboundLink")],1),t._v("生成火焰图")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/cat.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("cat"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("打印文件内容，和linux里的cat命令类似。")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/echo.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("echo"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("打印参数，和linux里的echo命令类似")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/grep.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("grep"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("类似传统的"),e("code",[t._v("grep")]),t._v("命令")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/base64.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("base64"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("base64编码转换，和linux里的 base64 命令类似。")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/tee.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("tee"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("类似传统的"),e("code",[t._v("tee")]),t._v("命令, 用于读取标准输入的数据，并将其内容输出成文件。"),e("br"),t._v("tee指令会从标准输入设备读取数据，将其内容输出到标准输出设备，同时保存成文件")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/pwd.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("pwd"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("返回当前的工作目录，和linux命令类似")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/options.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("options"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("全局开关")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("Arthas 基础命令")])]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("help")]),t._v(" "),e("td",[t._v("查看命令帮助信息")])]),t._v(" "),e("tr",[e("td",[t._v("cls")]),t._v(" "),e("td",[t._v("清空当前屏幕区域")])]),t._v(" "),e("tr",[e("td",[t._v("session")]),t._v(" "),e("td",[t._v("查看当前会话的信息")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/reset.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("reset"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("重置增强类，将被 Arthas 增强过的类全部还原，Arthas 服务端关闭时会重置所有增强过的类")])]),t._v(" "),e("tr",[e("td",[t._v("version")]),t._v(" "),e("td",[t._v("输出当前目标 Java 进程所加载的 Arthas 版本号")])]),t._v(" "),e("tr",[e("td",[t._v("history")]),t._v(" "),e("td",[t._v("打印命令历史")])]),t._v(" "),e("tr",[e("td",[t._v("quit")]),t._v(" "),e("td",[t._v("退出当前 Arthas 客户端，其他 Arthas 客户端不受影响")])]),t._v(" "),e("tr",[e("td",[t._v("stop")]),t._v(" "),e("td",[t._v("关闭 Arthas 服务端，所有 Arthas 客户端全部退出")])]),t._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://arthas.gitee.io/keymap.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("keymap"),e("OutboundLink")],1)]),t._v(" "),e("td",[t._v("Arthas快捷键列表及自定义快捷键")])])])]),t._v(" "),e("h2",{attrs:{id:"三、案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、案例"}},[t._v("#")]),t._v(" 三、案例：")]),t._v(" "),e("p",[t._v("Arthas ——生产环境排查 CPU 飚高问题")]),t._v(" "),e("ul",[e("li",[t._v("登录服务器，执行 top命令，查看java进程是否cpu使用率较高")]),t._v(" "),e("li",[t._v("启动arthas，执行 dashboard 命令，找到cpu使用率较高的线程")]),t._v(" "),e("li",[t._v("执行 thread [ID] 命令，定位代码行")])])])}),[],!1,null,null,null);r.default=n.exports}}]);