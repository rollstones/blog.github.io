(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{662:function(s,a,t){"use strict";t.r(a);var e=t(42),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"二、查看日志命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、查看日志命令"}},[s._v("#")]),s._v(" 二、查看日志命令")]),s._v(" "),t("h2",{attrs:{id:"一、动态查看日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、动态查看日志"}},[s._v("#")]),s._v(" 一、动态查看日志")]),s._v(" "),t("h3",{attrs:{id:"_1、动态查看"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、动态查看"}},[s._v("#")]),s._v(" 1、动态查看")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nginx日志存放位置")]),s._v("\n/usr/local/nginx-1.16.1/logs/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f 日志文件名\n")])])]),t("h3",{attrs:{id:"_2、指定关键字"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、指定关键字"}},[s._v("#")]),s._v(" 2、指定关键字")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定关键字使用 grep 命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 动态的查看 nginx 日志,并过滤ip地址为172.16.201.78:8501的日志")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# linux认为 单引号才是真正的字符串,双引号内部如果没有特殊的关键字也会认为这是一个字符串")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f 日志文件名称 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"关键字"')]),s._v("\n")])])]),t("h3",{attrs:{id:"_3、指定多个关键字"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、指定多个关键字"}},[s._v("#")]),s._v(" 3、指定多个关键字")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep -E '关键字1|关键字2.....'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 过滤ip地址=172.16.201.78:8501 或者 有Android关键字的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f api-access.log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -E "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"172.16.201.78:8501|Android"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 并且")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f 日志文件 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'条件'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'条件'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])])]),t("h3",{attrs:{id:"_4、排除关键字"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、排除关键字"}},[s._v("#")]),s._v(" 4、排除关键字")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep -v '指定要排除的关键字'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 过滤首页小红点的请求,排除Android手机的请求")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f api-access.log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'v2/count'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Android'")]),s._v("\n")])])]),t("h3",{attrs:{id:"_5、正则表达式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、正则表达式"}},[s._v("#")]),s._v(" 5、正则表达式")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep -E '正则'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f catalina.out "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -E "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^2020.*? 19'")]),s._v("\n")])])]),t("h3",{attrs:{id:"_6、查看指定行数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6、查看指定行数"}},[s._v("#")]),s._v(" 6、查看指定行数")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看文件最后的N行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -数字 日志文件\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看文件最后的N行,并且滚动查看")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -数字f 日志文件\n")])])]),t("h3",{attrs:{id:"_7、日志转存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7、日志转存"}},[s._v("#")]),s._v(" 7、日志转存")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将帅选到的日志转存到另外的一个文件里")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 覆盖 > 日志文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 追加 >> 日志文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("和"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v("是将前面命令的输出结果转存到一个文件里\n")])])]),t("h2",{attrs:{id:"二、日志提取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、日志提取"}},[s._v("#")]),s._v(" 二、日志提取")]),s._v(" "),t("h3",{attrs:{id:"_1、关键字搜索"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、关键字搜索"}},[s._v("#")]),s._v(" 1、关键字搜索")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 在日志文件内搜索"某个"关键字')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'关键字'")]),s._v(" 日志文件 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'关键字'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])])]),t("h3",{attrs:{id:"_2、统计关键字行数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、统计关键字行数"}},[s._v("#")]),s._v(" 2、统计关键字行数")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'关键字'")]),s._v(" 日志文件 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -c "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'关键字'")]),s._v(" 日志文件\n")])])]),t("h3",{attrs:{id:"_3、打印上下文信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、打印上下文信息"}},[s._v("#")]),s._v(" 3、打印上下文信息")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数字: 指定关键字上下文行数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -C 数字 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'关键字'")]),s._v(" 日志文件\n")])])]),t("h3",{attrs:{id:"_4、指定上下文的行数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、指定上下文的行数"}},[s._v("#")]),s._v(" 4、指定上下文的行数")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定上文行数")]),s._v("\n-B 数字\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行下文行数")]),s._v("\n-A 数字\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -B1 -A2 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2020-07-01 20:19:25.226'")]),s._v(" catalina.out\n")])])]),t("h3",{attrs:{id:"_5、行分割提取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、行分割提取"}},[s._v("#")]),s._v(" 5、行分割提取")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk 默认使用空格作为分隔符")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -F '分隔符' 指定分隔符")]),s._v("\n")])])]),t("p",[s._v("指定分隔符 ：")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f catalina.out "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'OperationDetailAop'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("}'")]),s._v("\n")])])]),t("p",[s._v("默认分隔符 ：")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以空格分隔")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f catalina.out "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('" "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v('" "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$3")]),s._v('" "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$4")]),s._v('" "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$5")]),s._v('" "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$6")]),s._v('" "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$7")]),s._v("}'")]),s._v("\n")])])]),t("h3",{attrs:{id:"_6、分页查看"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6、分页查看"}},[s._v("#")]),s._v(" 6、分页查看")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# more")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看指定关键字,使用空格作为分隔符,查看日志,并分页")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2020-07-01 20'")]),s._v(" catalina.out "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('" "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v('" "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$3")]),s._v('" "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$4")]),s._v('" "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$5")]),s._v('" "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$6")]),s._v("}'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v("\n")])])]),t("h3",{attrs:{id:"_7、打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7、打包"}},[s._v("#")]),s._v(" 7、打包")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# zip -r zip文件名 原始文件名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("zip")]),s._v(" -r "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v(".zip catalina.out\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);